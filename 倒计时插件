/**
    * @title ä¸“å‡æœ¬å€’è®¡æ—¶
 * @create_at 2023-03-03 21:56:17
 * @rule ä¸“å‡æœ¬å€’è®¡æ—¶
 * @description ğŸ’è¿™ä¸ªäººå¾ˆæ‡’ä»€ä¹ˆéƒ½æ²¡æœ‰ç•™ä¸‹ã€‚
 * @author kwxos
 * @version v1.0.0
    * @cron 0 9 * * *
    */

function main() {
    var s = sender
    const sillyGirl = new SillyGirl()
    s = sillyGirl.newSender({
        platform: "qq",
        user_id: "ä½ çš„QQå·",
        chat_id: "ç¾¤å·"
    })

    var {body} = request({
    url:"https://api.vvhan.com/api/ian",
    method:"get",
    allowredirects: false,})

    var text = request({
        url: "https://xiaoapi.cn/API/fy.php?msg=" + `${body}`,
    }).body

    countdownDate = new Date('2023-05-06T00:00:00').getTime();
    countdownDate1 = new Date('2023-03-12T00:00:00').getTime();
    countdownDate2 = new Date('2023-04-13T00:00:00').getTime();
    countdownDate3 = new Date('2023-03-25T00:00:00').getTime();

    now = new Date().getTime();
    timeDiff = countdownDate - now;
    timeDiff1 = countdownDate1 - now;
    timeDiff2 = countdownDate2 - now;
    timeDiff3 = countdownDate3 - now;
    // è®¡ç®—å‰©ä½™çš„å¤©ã€å°æ—¶ã€åˆ†é’Ÿå’Œç§’æ•°
    days = Math.floor(timeDiff / (24 * 60 * 60 * 1000));
    hours = Math.floor((timeDiff % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
    days1 = Math.floor(timeDiff1 / (24 * 60 * 60 * 1000));
    hours1 = Math.floor((timeDiff1 % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
    days2 = Math.floor(timeDiff2 / (24 * 60 * 60 * 1000));
    hours2 = Math.floor((timeDiff2 % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
    days3 = Math.floor(timeDiff3 / (24 * 60 * 60 * 1000));
    hours3 = Math.floor((timeDiff3 % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
    // minutes = Math.floor((timeDiff % (60 * 60 * 1000)) / (60 * 1000));
    // seconds = Math.floor((timeDiff % (60 * 1000)) / 1000);

    // æ›´æ–°å€’è®¡æ—¶çš„æ˜¾ç¤º
    const countdown = `è·ç¦»ä¸“å‡æœ¬ä»…æœ‰ï¼š${days}å¤© ${hours}å°æ—¶ \nè·ç¦»å››çº§ä»…æœ‰ï¼š${days1}å¤© ${hours1}å°æ—¶ \nè·ç¦»æ™®é€šè¯ä»…æœ‰ï¼š${days2}å¤© ${hours2}å°æ—¶ \nè·ç¦»ç½‘ç»œä¸‰çº§ä»…æœ‰ï¼š${days3}å¤© ${hours3}å°æ—¶ \n${image("è‡ªå·±æ”¾å›¾ç‰‡é“¾æ¥")}\næ¯æ—¥ä¸€è¨€ï¼š${body} \n`;
    s.reply(countdown + "è‹±ç¿»ï¼š" + text);
}

main()
